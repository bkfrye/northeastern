var domReady=function(callback){if(document.readyState==="interactive"||document.readyState==="complete"){callback()}else{document.addEventListener("DOMContentLoaded",callback)}};var Classes={OPEN:"open",SR_ONLY:"sr_only",ACCESS_SHOW:"access-show"};var KeyBindings={TAB:9};domReady(function(){var navbar=new nuNavbar});function nuNavbar(){var allItems=document.querySelectorAll(".nu-shared-navigation__menu-item"),allSubItems=document.querySelectorAll(".nu-shared-navigation__sub-menu-item"),currentItem;var handleFocus=function(event,obj){currentItem=obj.parentNode;if(!currentItem.parentNode.classList.contains("nu-shared-navigation__sub-menu-item")){for(var i=0,len=allSubItems.length;i<len;i++){if(allSubItems[i].classList.contains(Classes.ACCESS_SHOW)){allSubItems[i].classList.remove(Classes.ACCESS_SHOW)}}}if(currentItem.classList.contains("nu-shared-navigation__has-sub")){currentItem.querySelector(".nu-shared-navigation__sub-menu-item").classList.add(Classes.ACCESS_SHOW)}};for(var i=0,len=allItems.length;i<len;i++){var current=allItems[i];current.querySelector("a").addEventListener("focus",function(e){handleFocus(e,this)})}document.addEventListener("click",function(){var accessibleShownItems=document.querySelectorAll(".access-show");for(var i=0,len=accessibleShownItems.length;i<len;i++){accessibleShownItems[i].classList.remove("access-show")}});var menuToggle=document.querySelector(".nu-shared-navigation__menu-toggle"),menuOverlay=document.querySelector(".nu-shared-navigation__menu-flyout");var navToggle=function(){if(this.classList.contains(Classes.OPEN)){this.classList.remove(Classes.OPEN);menuOverlay.classList.remove(Classes.OPEN);menuOverlay.classList.add(Classes.SR_ONLY)}else{this.classList.add(Classes.OPEN);menuOverlay.classList.add(Classes.OPEN);menuOverlay.classList.remove(Classes.SR_ONLY)}};menuToggle.addEventListener("click",navToggle);var menuItemsWithChildren=document.querySelectorAll(".nu-shared-navigation__has-sub");for(var i=0,len=menuItemsWithChildren.length;i<len;i++){var current=menuItemsWithChildren[i];current.querySelector("a").addEventListener("click",function(event){var viewportWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(viewportWidth<768){event.preventDefault()}var childToOpen=current.querySelector(".nu-shared-navigation__sub-menu-item");if(childToOpen.classList.contains(Classes.OPEN)){childToOpen.classList.remove(Classes.OPEN)}else{childToOpen.classList.add(Classes.OPEN)}})}}
